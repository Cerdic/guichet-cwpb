<div class="ajax formulaire_spip formulaire_configurer formulaire_#FORM formulaire_#FORM-#ENV{id,nouveau}">
	[<div class="reponse_formulaire reponse_formulaire_ok">(#ENV**{message_ok})</div>]
	[<div class="reponse_formulaire reponse_formulaire_erreur">(#ENV**{message_erreur})</div>]
	[(#ENV{editable})
	<form method='post' action='#ENV{action}'><div>
		[(#REM) déclarer les hidden qui déclencheront le service du formulaire
		paramêtre : url d'action ]
		#ACTION_FORMULAIRE{#ENV{action}}
		#SET{fl,acheter}

		<div class="editer-groupe">
			#SET{name,produit_id}#SET{obli,'obligatoire'}#SET{defaut,''}#SET{erreurs,#ENV**{erreurs}|table_valeur{#GET{name}}}
			<div class="editer editer_[(#GET{name})][ (#GET{obli})][ (#GET{erreurs}|oui)erreur]">
				<label for="#GET{name}">[(#GET{fl}|concat{':label_',#GET{name}}|_T)]</label>[
				<span class='erreur_message'>(#GET{erreurs})</span>
				]
				<BOUCLE(DATA){source table,#ENV{_produits}}>
				#SET{val,#VALEUR{id}}
				<div class="choix">
					<input type="radio" id="#GET{name}_#GET{val}" name="#GET{name}"[(#ENV{#GET{name},#GET{defaut}}|=={#GET{val}}|oui)checked="checked"] value="#GET{val}"/>
					<label for="#GET{name}_#GET{val}">[(#VALEUR{titre})] <span class="badge badge-secondary float-right">[(#VALEUR{prix_ttc}|bank_affiche_montant) TTC]</span></label>
					[<p class="explication small p-2 pl-3">(#VALEUR{description}|propre|PtoBR)</p>]
				</div>
				</BOUCLE>

			</div>
			#SET{name,name}#SET{obli,'obligatoire'}#SET{defaut,''}#SET{erreurs,#ENV**{erreurs}|table_valeur{#GET{name}}}
			<div class="editer editer_[(#GET{name})][ (#GET{obli})][ (#GET{erreurs}|oui)erreur]">
				<label for="#GET{name}">[(#GET{fl}|concat{':label_',#GET{name}}|_T)]</label>[
				<span class='erreur_message'>(#GET{erreurs})</span>
				]<input type="text" name="#GET{name}" class="text" value="#ENV*{#GET{name},#GET{defaut}}" id="#GET{name}" [(#HTML5|et{#GET{obli}})required='required']
			   placeholder="[(#GET{fl}|concat{':placeholder_',#GET{name}}|_T)]"/>
			</div>
			#SET{name,email}#SET{obli,'obligatoire'}#SET{defaut,''}#SET{erreurs,#ENV**{erreurs}|table_valeur{#GET{name}}}
			<div class="editer editer_[(#GET{name})][ (#GET{obli})][ (#GET{erreurs}|oui)erreur]">
				<label for="#GET{name}">[(#GET{fl}|concat{':label_',#GET{name}}|_T)]</label>[
				<span class='erreur_message'>(#GET{erreurs})</span>
				]<input type="text" name="#GET{name}" class="text" value="#ENV*{#GET{name},#GET{defaut}}" id="#GET{name}" [(#HTML5|et{#GET{obli}})required='required']
			   placeholder="[(#GET{fl}|concat{':placeholder_',#GET{name}}|_T)]"/>
			</div>
			#SET{name,adresse1}#SET{obli,'obligatoire'}#SET{defaut,''}#SET{erreurs,#ENV**{erreurs}|table_valeur{#GET{name}}}
			<div class="editer editer_[(#GET{name})][ (#GET{obli})][ (#GET{erreurs}|oui)erreur]">
				<label for="#GET{name}">[(#GET{fl}|concat{':label_',#GET{name}}|_T)]</label>[
				<span class='erreur_message'>(#GET{erreurs})</span>
				]<input type="text" name="#GET{name}" class="text" value="#ENV*{#GET{name},#GET{defaut}}" id="#GET{name}" [(#HTML5|et{#GET{obli}})required='required']/>
			</div>
			#SET{name,adresse2}#SET{obli,''}#SET{defaut,''}#SET{erreurs,#ENV**{erreurs}|table_valeur{#GET{name}}}
			<div class="editer editer_[(#GET{name})][ (#GET{obli})][ (#GET{erreurs}|oui)erreur]">
				<label for="#GET{name}">[(#GET{fl}|concat{':label_',#GET{name}}|_T)]</label>[
				<span class='erreur_message'>(#GET{erreurs})</span>
				]<input type="text" name="#GET{name}" class="text" value="#ENV*{#GET{name},#GET{defaut}}" id="#GET{name}" [(#HTML5|et{#GET{obli}})required='required']/>
			</div>
			#SET{name,code_postal}#SET{obli,'obligatoire'}#SET{defaut,''}#SET{erreurs,#ENV**{erreurs}|table_valeur{#GET{name}}}
			<div class="editer editer_[(#GET{name})][ (#GET{obli})][ (#GET{erreurs}|oui)erreur]">
				<label for="#GET{name}">[(#GET{fl}|concat{':label_',#GET{name}}|_T)]</label>[
				<span class='erreur_message'>(#GET{erreurs})</span>
				]<input type="text" name="#GET{name}" class="text" value="#ENV*{#GET{name},#GET{defaut}}" id="#GET{name}" [(#HTML5|et{#GET{obli}})required='required']/>
			</div>
			#SET{name,ville}#SET{obli,'obligatoire'}#SET{defaut,''}#SET{erreurs,#ENV**{erreurs}|table_valeur{#GET{name}}}
			<div class="editer editer_[(#GET{name})][ (#GET{obli})][ (#GET{erreurs}|oui)erreur]">
				<label for="#GET{name}">[(#GET{fl}|concat{':label_',#GET{name}}|_T)]</label>[
				<span class='erreur_message'>(#GET{erreurs})</span>
				]<input type="text" name="#GET{name}" class="text" value="#ENV*{#GET{name},#GET{defaut}}" id="#GET{name}" [(#HTML5|et{#GET{obli}})required='required']/>
			</div>
			#SET{name,pays}#SET{obli,''}#SET{defaut,''}#SET{erreurs,#ENV**{erreurs}|table_valeur{#GET{name}}}
			<div class="editer editer_[(#GET{name})][ (#GET{obli})][ (#GET{erreurs}|oui)erreur]">
				<label for="#GET{name}">[(#GET{fl}|concat{':label_',#GET{name}}|_T)]</label>[
				<span class='erreur_message'>(#GET{erreurs})</span>
				]
				<select name="#GET{name}" id="#GET{name}" class="custom-select">
					<BOUCLE_pays(PAYS){par multi nom}>
						#SET{val,#CODE}
						[<option value="#GET{val}"[(#GET{val}|=={#ENV*{#GET{name},#GET{defaut}}}|oui) selected="selected"]>(#NOM)</option>]
					</BOUCLE_pays>
				</select>
			</div>
		</div>

	  [(#REM) ajouter les saisies supplémentaires : extra et autre, à cet endroit ]
	  <!--extra-->
	  <p class='boutons'><span class='image_loading'>&nbsp;</span>
			<input type='submit' class='btn btn-primary' value='<:acheter:bouton_acheter|attribut_html:>' />
	  </p>
	</div></form>
	]
</div>
<style type="text/css">
	.euros { color:#888;}
</style>